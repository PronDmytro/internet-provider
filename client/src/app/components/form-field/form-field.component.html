<div class="modhyobitto-form-field">
  <mat-form-field appearance="fill">
    <mat-label>
      {{label}}
      <span aria-hidden="true" *ngIf="required" class="placeholder-required"> *</span>
    </mat-label>
    <ng-container [ngSwitch]="type">
      <!-- For select menus -->
      <ng-container *ngSwitchCase="'select'">
        <mat-select>
          <mat-option *ngFor="let key of selectOptionKeys" [value]="selectOptionMap[key]">{{key}}</mat-option>
        </mat-select>
      </ng-container>
      <!-- For date picker -->
      <ng-container *ngSwitchCase="'date'">
        <input
          matInput
          [matDatepicker]="datepicker">
        <!-- (focus)="picker.open()"
        (click)="picker.open()"
        (keydown)="false"> -->

      </ng-container>
      <!-- For date range picker -->
      <ng-container *ngSwitchCase="'daterange'">
        <mat-date-range-input [rangePicker]="daterangepicker">
          <input
            matStartDate
            placeholder="Start Date">
          <!-- (focus)="picker.open()"
          (click)="picker.open()"
          (keydown)="false"> -->
          <input
            matEndDate
            placeholder="End Date">
          <!-- (focus)="picker.open()"
          (click)="picker.open()"
          (keydown)="false"> -->
        </mat-date-range-input>
      </ng-container>
      <!-- For text areas -->
      <ng-container *ngSwitchCase="'textarea'">
                <textarea
                  matInput
                  placeholder="{{placeholder}}"
                  [attr.maxlength]="maxlength"></textarea>
      </ng-container>
      <!-- For text fields -->
      <ng-container *ngSwitchDefault>
        <input
          matInput
          placeholder="{{placeholder}}"
          [attr.maxlength]="maxlength"
          [type]="type">
      </ng-container>
    </ng-container>
    <!-- matSuffix works on descendents only -->
    <mat-datepicker-toggle matSuffix [for]="datepicker" *ngIf="type=='date'"></mat-datepicker-toggle>
    <mat-datepicker #datepicker></mat-datepicker>
    <mat-datepicker-toggle matSuffix [for]="daterangepicker" *ngIf="type=='daterange'"></mat-datepicker-toggle>
    <mat-date-range-picker #daterangepicker></mat-date-range-picker>
    <mat-error>
      {{control.hasError('required') ?
      (requiredError || 'This field can not be left blank.')
      : (control.hasError('message') ?
        control.getError('message')
        : invalidError)}}
    </mat-error>
  </mat-form-field>
</div>
